<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Revenue Bar Chart</title>
    <!-- Include Highcharts.js library -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
</head>
<body>
    <!-- Container for the chart -->
    <div id="revenuePerformance" style="width: 800px; height: 400px;"></div>
    
    <!-- Script to generate the chart -->
    <script>
        // Your chart generation code will go here
        document.addEventListener('DOMContentLoaded', function () {
            // Abbreviate months to three letters
            function abbreviateMonth(month) {
                return month.substring(0, 3);
            }
            
            // Prepare the data
            const data = [
                ['Jul 2023', 50000, 60000, 55000], // [Month, Last Year, Target, Actual]
                ['Aug 2023', 55000, 62000, 58000],
                // ... Add data for other months ...
            ];

            // Drilldown data for days
            const daysData = [
                ['Day 1', 500],
                ['Day 2', 600],
                // ... Add data for other days ...
            ];

            // Create the bar chart
            const chart = Highcharts.chart('revenuePerformance', {
                chart: {
                    type: 'column'
                },
                title: {
                    text: 'Revenue Comparison'
                },
                xAxis: {
                    categories: data.map(item => abbreviateMonth(item[0]))
                },
                yAxis: {
                    title: {
                        text: 'Revenue (KES)'
                    }
                },
                legend: {
                    enabled: true
                },
                tooltip: {
                    shared: true,
                    pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>KES {point.y}</b><br/>'
                },
                plotOptions: {
                    bar: {
                        pointWidth: 20,
                        stacking: 'normal',
                        borderWidth: 0
                    }
                },
                series: [{
                    name: 'Last Year',
                    data: data.map(item => item[1])
                }, {
                    name: 'Target',
                    data: data.map(item => item[2])
                }, {
                    name: 'This Year',
                    data: data.map(item => item[3]),
                    id: 'thisYear',
                    drilldown: true
                }],
                drilldown: {
                    series: [{
                        id: 'thisYear',
                        data: daysData
                    }]
                }
            });

            // Handle drilldown events
            chart.addSeriesAsDrilldown(chart.series[2], {
                name: 'Days',
                id: 'days',
                data: daysData
            });
        });
    </script>
</body>
</html>
